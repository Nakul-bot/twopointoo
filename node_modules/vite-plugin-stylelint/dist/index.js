"use strict";var N=Object.create;var y=Object.defineProperty;var Q=Object.getOwnPropertyDescriptor;var R=Object.getOwnPropertyNames;var U=Object.getPrototypeOf,X=Object.prototype.hasOwnProperty;var Y=(e,t)=>{for(var l in t)y(e,l,{get:t[l],enumerable:!0})},V=(e,t,l,c)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of R(t))!X.call(e,i)&&i!==l&&y(e,i,{get:()=>t[i],enumerable:!(c=Q(t,i))||c.enumerable});return e};var d=(e,t,l)=>(l=e!=null?N(U(e)):{},V(t||!e||!e.__esModule?y(l,"default",{value:e,enumerable:!0}):l,e)),Z=e=>V(y({},"__esModule",{value:!0}),e);var p={};Y(p,{default:()=>C});module.exports=Z(p);var h=require("@rollup/pluginutils"),_=d(require("fs")),j=d(require("path"));function C(e={}){var w,E,v,b,W,x,A,F,O,L;let t=(w=e==null?void 0:e.cache)!=null?w:!0,l=(E=e==null?void 0:e.cacheLocation)!=null?E:j.default.join("node_modules",".vite","vite-plugin-stylelint"),c=(v=e==null?void 0:e.include)!=null?v:["src/**/*.css","src/**/*.scss","src/**/*.sass","src/**/*.less","src/**/*.styl","src/**/*.vue","src/**/*.svelte"],i=(b=e==null?void 0:e.exclude)!=null?b:["node_modules","virtual:"],$=(W=e==null?void 0:e.stylelintPath)!=null?W:"stylelint",k=(x=e==null?void 0:e.lintOnStart)!=null?x:!1,z=(A=e==null?void 0:e.emitError)!=null?A:!0,H=(F=e==null?void 0:e.emitErrorAsWarning)!=null?F:!1,I=(O=e==null?void 0:e.emitWarning)!=null?O:!0,M=(L=e==null?void 0:e.emitWarningAsError)!=null?L:!1,T=(0,h.createFilter)(c,i),q=s=>!_.default.existsSync(s),P,S;return{name:"vite:stylelint",async buildStart(){var s;if(!P)try{P=(await Promise.resolve().then(()=>d(require($)))).default,S=async(r,B)=>await P.lint({...e,allowEmptyInput:!0,cache:t,cacheLocation:l,files:B}).then(n=>{if(!n)return;let{results:u}=n;u.forEach(D=>{let{warnings:G,ignored:J}=D;J||G.forEach(K=>{console.log("");let{severity:o,text:m,line:f,column:g}=K;o==="error"&&z?H?r.warn(m,{line:f,column:g}):r.error(m,{line:f,column:g}):o==="warning"&&I&&(M?r.error(m,{line:f,column:g}):r.warn(m,{line:f,column:g}))})})}).catch(n=>{var u;console.log(""),r.error(`${(u=n==null?void 0:n.message)!=null?u:n}`)})}catch(a){console.log(""),this.error(`${(s=a==null?void 0:a.message)!=null?s:"Failed to import Stylelint. Have you installed and configured correctly?"}`)}k&&(console.log(""),this.warn("Stylelint is linting all files in the project because `lintOnStart` is true. This will significantly slow down Vite."),await S(this,c))},async transform(s,a){let r=(0,h.normalizePath)(a).split("?")[0];return!T(r)||q(r)||await S(this,r),null}}}0&&(module.exports={});
